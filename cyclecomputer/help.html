<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    
  <title>VRoad Help</title>
    
</head>
<body>
   
    	 <P>Virtual Road is an indoor cycling simulator that will simulate cycling on a road using real life videos. It requires a bicycle smart trainer, power meter, or speed sensor. For for running a run pod. The app will play a video that will simulate cycling or running at the speed you are moving..  It will control your bicycle resistance of your trainer, using the BLE FTMS protocol, to simulate riding uphill or downhill. If you only have a power meter you can connect it instead of a trainer and you can connect a run pod for running on a treadmill but you won't feel any resistance changes. It will display current speed, distance, watts and elapsed time as well as averages as it plays the video at the speed that you are moving. The app converts watts to speed based on the road gradient and your weight. The app will also connect to a BLE enabled Heart Rate Monitor and display current and average heart rate and a Cadence sensor to disiplay current and average cadence. vRoad has been tested on the Chrome web browser and the Kurt Kinetic Road Machine trainer.
             <P>There are several videos supplied with the app that can be used by clicking on the <B>Rides</B> button and selecting one. If you want to use your own videos, you will need both a GPX file and synchronized Video of the same route. You can create your own or download some from the internet. If you create your own the GPX file needs to begin and end at the same point as the video. If you need to edit the GPX file you can use GPXMagic or GPXStudio. You can find some videos with GPX files on Youtube such as <a href="https://www.youtube.com/@IndoorCyclingVideos">Indoor Cycling Videos</a> but you will probably need to edit the GPX file to match the video. There is software such as 4kdownloader which will download the video and then download the corresponding GPX strava file if there is one. You can use only a GPX file and it will still control your trainer but you will only see the minimap of the route and something like Biketerra would be better suited since it would create an artificial road from the GPX file. It is also possible to use videos from youtube by placing the video ID in the GPX file. Some samples can be downloaded at <a href="https://www.dropbox.com/scl/fi/b19oaahj9ay7jucj6nnpn/Youtube.zip?rlkey=p7t94hemokryd972fcu6xyn48&st=d4js69cg&dl=0"">Youtube GPX</a> . The Video ID is in the Name field of the GPX file with the format  name:n:VideoId. Where n is the number of seconds into the video to start and Video Id is the Youtube Video Id. 
             
		<P> To do a ride first select the video you want to use by clicking on the <b>Rides</b> button to use a supplied ride video or the <b>GPX</b> and <b>Video</b> buttons if you are using your own videos. You can start anywhere on the route by entering the distance in miles in the text area next to the <b>Start</b> button. You must enter the starting location before connecting the trainer. Then select the type of device to connect from the <b>Connect Device</b> drop down list, and then click on it to connect to the device. A smart trainer , heart rate monitor and cadence sensor or run pod can be used.  
		  Once your devices are connected begin pedalling and then press the <b>Start</b> button to begin. The video will pause when the speed goes below the Pause speed parameter which defaults to 1 mph.
		When you are finished press the <b>Stop</b> button and then click on <b>Save Data</b> to save the GPX file and Data to a folder that you select.To upload your ride to STRAVA click on the Strava link on the Home page and then upload the file by clicking the Upload button and browse to the folder where you save the GPS file. 
		<!--P>The app requires a GPX file with accurate elevation. I recommend a GPX file from Strava which has been tested and formats may not work. The GPX file needs to be editted to remove statements before the trkseg.
		The GPX file should be placed in the folder (webserver)/cyclecomputer/videos. 
		
		The app also requires an MP4 video file which is synchronized with the GPX file and placed in the same folder at your GPX file. The video will speed up and slow down to match the speed you are riding.
		The MP4 file should be named the same as the GPX file only replacing the .GPX with .MP4.</P-->
		
            <P>Workouts can be used by clicking on the <b>Workouts</b> button and selecting one. You can use your own workouts  if they have the zwo format and extension. It has limited functionality and does not support cadence targets. You can select the workout using the <b>Select From Folder</b> option in the dropdown list. Workouts default to ERG mode which can be unselected using the "E" key. ERG mode can also be used without a workout. Use the "E" key and then the up and down arrow keys to change the target watts. For more information view the shortcuts page. The workouts feature has not been extensively tested. </P>
    
    <P>When using Simulation mode (non Workout) you can change Grade effect percent, using the up and down arrow keys. This will reduce steepness of hills if it it less than 100%. Zero will be the same as riding on flat roads. It will not affect your speed which is computed from watts.</P>
  
     <P>There are 31 virtual gears, -15 to +15. The zero virtual gear is the default and is the same as using no virtual gear. The virtual gear can be changed by using the - and + keys. The virtual gearing is implemented by changing the Grade sent to the trainer</P>
    <P>There is an Automatic Shift option (AR) that uses your RPM if you have a Cadence sensor connected. Once the cadence gets about the maximum threshold, the virtual gear will be increased and once the cadence gets below the minimum threshold the virtual gear is decreased. The maximum and minimum values default to 95 and 85. They can be set in the settings page to different values. Automatic Shift is turned on and off via the "a" shortcut key. Another Automatic Shift option (AG) uses the grade of the road to determine the virtual gear. The "a" shortcut key will toggle through the options. The AG Automatic Shift will use the current virtual gear when turned on as the base gear. All shifts will be relative to the base gear. </P>
    
    <P> If you have a dumb trainer you can still use to app with virtual power. In the Connect Device dropdown select Virtual Power. You can increase and decrease the power with the plus(+) and minuse(-) keys. </P>
    <!--P>Dashboard - You can use your phone to display metrics and control the virtual gear, and start/stop. Use the QRcode displayed on the main page.</P-->
       </body>
