<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
      <!-- Include OpenLayers CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v7.1.0/ol.css">
  <title>Virtual Road</title>
     <link rel="stylesheet" type="text/css" href="vroad.css" media="all" />
    <!--script src='https://cdn.plot.ly/plotly-2.35.2.min.js'></script-->
     <!--script src='../cdnjs/plotly-2.35.2.min.js'></script-->
  
  <!--script src="http://www.openlayers.org/api/OpenLayers.js"></script-->
    <!--script src="../OpenLayers-2.13.1/OpenLayers.js"></script-->
     <!-- Include OpenLayers JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/ol@v7.1.0/dist/ol.js"></script>
   <script type="text/javascript">
     

		var map;//complex object of type OpenLayers.Map
        var markerSource ;
       </script>
    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<style>

    .bottomright {
    position:relative;
}
.hud {
    position:absolute;
    bottom:0;
    right:0;
}
    
     #startbutton {
  padding: 0.4rem .8rem;
  border-radius: 10px;
  border: none;
  background: #4f46e5;
  color: white;
  font-size: 1rem;
  max-width: 80px;
  cursor: pointer;
}
 #button {
  padding: 0.4rem .8rem;
  border-radius: 10px;
  border: none;
  background: #4f46e5;
  color: white;
  font-size: 1rem;
  cursor: pointer;
}
       #openPickerwo {
  padding: 0.4rem .8rem;
  border-radius: 10px;
  border: none;
  background:rgba(0,0,255, 0.5);
  color: white;
  font-size: 1rem;
  cursor: pointer;
}
    .modalwo {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.modal-contentwo {
  background: white;
  padding: 1.5rem;
  border-radius: 16px;
  min-width: 280px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
  font-family: system-ui, sans-serif;
}

.modal-contentwo h3 {
  margin-top: 0;
}

.modal-contentwo select {
  width: 100%;
  padding: 0.6rem;
  border-radius: 10px;
  border: 1px solid #ccc;
}

.modal-actionswo {
  text-align: right;
  margin-top: 1rem;
}

    
    #openPicker {
  padding: 0.4rem .8rem;
  border-radius: 10px;
  border: none;
  background: rgba(0,0,255, 0.5);
  color: white;
  font-size: 1rem;
  cursor: pointer;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.modal-content {
  background: white;
  padding: 1.5rem;
  border-radius: 16px;
  min-width: 280px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
  font-family: system-ui, sans-serif;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-content select {
  width: 100%;
  padding: 0.6rem;
  border-radius: 10px;
  border: 1px solid #ccc;
}

.modal-actions {
  text-align: right;
  margin-top: 1rem;
}

.bottom-right {
    position: fixed;
    bottom: 0;
    right: 0;
    width: 50px;
    height: 50px;
    background-color: #f0f0f0;
    padding: 50px;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);

.bottom-left {
  position: absolute;
  bottom: 8px;
  left: 16px;
  font-size: 20px;
}


</style>
<body>
     <div id="button" style="position: absolute;  bottom: 0; left: 0;">
         <button id="startbutton" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="startTimer()"  <i class="fa fa-play"</i>Start</button>
    </div>
    
  <div class="toprcorner" id="map" style="height:250px;width:300px; opacity:0.8;"></div>
		<div id="home-top-video">

            
  <div id="youtubePlayer"></div>
            
<video id="myVid" width="1600" height="800">
 <source src="TBLoop.mp4" type="video/mp4">
 
</video>
            
             <script type="module"  src="./cyclecomputer.js"></script>
             
            <div class="absolutetop">
                
               
            
        <div class="progress-bar"   opacity:0.6;>
            
            <div id="progress" class="progress"  opacity:0.6;></div>
                   
    </div>
                
            <!--progress id="progress" value="10" max="100">100 %</progress-->
                  </div>
            
             <div class="absolutetopchart">
                 <label id="pctlbl"   for="pctlbl" style="text-align: center;" opacity:0.7;>Miles</label>
                  
 
                 <div id="chartContainer"  style="height: 75px; width: 100%; opacity:0.7;"></div>
        <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
                    <center>       
    <canvas id="barChart" title="Workout" width="1000" height="125" style="border:1px solid #000; width: 100%; opacity:0.8;"></canvas>
                        
        </center>
                 
                  </div>
     
   <div id="hud" class="absolutebottom">
            
            
   <div id='alrt' style="font-size:xx-large;background-color: blue; color: white;text-align: center;"></div>
    

 <table id="table1" border="0" style="width: 1250px; margin-left: auto; margin-right: auto; ">
   
<tbody>
  
<tr style="background: rgba(0,0,255, 0.4); color: rgba(255,255,255, 0.9); font-size:xx-small;text-align: left;height:10px;">

<td  width: 20px; height: 10px;"><b>Time</b>&nbsp<i class="fa fa-clock" ></td>
<td style="width: 20px; height: 10px;" id="distancel"><b>Miles</b></td>
<td style="width: 20px; height: 10px;" id="speedl"><b>MPH</b>&nbsp<i class="fa fa-tachometer-alt"></td>
<td style="width: 20px; height: 10px;" id="wattsl"> <b>Watts</b>&nbsp<i class="fa fa-bolt"></i></td>
<td style="width: 20px; height: 10px;" id="twattsl"><b>Target</b></td>
<td style="width: 20px; height: 10px;" id="tleftl"><b>Time Left</b></td>
<td style="width: 20px; height: 10px;" id="iwattsl"><b>Int Watts</b></td>

<td style="width: 20px; height: 10px;" id="hrml"><b>HRM</b>&nbsp<i class="fa fa-heartbeat"></i></td>
<td style="width: 20px; height: 10px;" id="rpml"><b>RPM</b>&nbsp<i class="fa fa-circle-notch"></i></td>
<td style="width: 20px; height: 10px;"><b>Grade</b>&nbsp<i class="fa fa-area-chart"></td>
   
<td style="width: 20px; height: 10px;"><label id="vgearl" for="vgearl"><b>VGear</b>&nbsp<i class="fa fa-gear"></td>
<td style="width: 20px; height: 10px;"><label id="trdiffl" for="trdiffl"><b>Grade Feel%</b></td>

<td style="width: 20px; height: 10px;" id="avespeedl"><b>Ave MPH</b>&nbsp<i class="fa fa-tachometer-alt"></td>
<td style="width: 20px; height: 10px;"><b>Ave Watts</b>&nbsp<i class="fa fa-bolt"></i></td>

<td style="width: 20px; height: 10px;"><b>Ave HRM</b>&nbsp<i class="fa fa-heartbeat"></i></td>
<td style="width: 20px; height: 10px;"><b>Ave RPM</b>&nbsp<i class="fa fa-circle-notch"></i></td>
<td style="width: 20px; height: 10px;"><b>Pwr Cal</b></td>
<td style="width: 20px; height: 10px;"><b>HR Cal</b></td>
</tr>
<tr style="background: rgba(255,255,255, 0.5);color: rgba(0,0,0, 1.0);font-size:x-large;text-align: left;height: 25px;">
 
<td style=" width: 50px; height: 25px;"><label id="timelbl" for="timelbl" title="Elapsed Time of Ride"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="distance" for="distance" title="Total Distance of Ride"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="speed" for="speed" title="Current Speed(mph)"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="watts" for="watts" title="Current Power"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="twatts" for="twatts" title="Target Watts for the interval"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="timeleft" for="timeleft" title="Time left for the interval" ><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="iwatts" for="iwatts" title="Average watts for the interval"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="hr" for="hr" title="Current Heart Rate(bpm)"><strong>---</strong></label></td>
    <td style="color: black; width: 50px; height: 25px;"><label id="rpm" for="rpm" title="Current Cadence"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="grade" for="grade" title="Current grade of the road"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="vgear" for="vgear" title="Virtual Gear(-/+)"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="trdiff" for="trdiff" title="Grade Feel %(Up/Down Arrow)"><strong>---</strong></label></td>

<td style=" width: 50px; height: 25px;"><label id="avespeed" for="avespeed" title="Average Speed(mph)"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="avewatts" for="avewatts" title="Average Power"><strong>---</strong></label></td>

<td style=" width: 50px; height: 25px;"><label id="avehr" for="avehr" title="Average Heart Rate(bpm)"><strong>---</strong></label></td>
    <td style=" width: 50px; height: 25px;"><label id="averpm" for="averpm" title="Average Cadence"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="pcal" for="pcal" title="Total Calories using Power"><strong>---</strong></label></td>
<td style=" width: 50px; height: 25px;"><label id="hrcal" for="hrcal" title="Total Calories using Heart Rate"><strong>---</strong></label></td>
</tr>

   
</tbody>
</table>
       
        
  <!--button id="button" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="selectWorkout();" type="button">Workouts</button-->

  

    <!--p id="btns"style="font-size:xx-small;text-align: center; "-->
        <div id="buttons">
   <center>
     
       <!--button id="startbutton"style="background: rgba(0,0,255, 0.5); color: white;"  onclick="startTimer()"  <i class="fa fa-play"</i>Start</button-->
         <label id="beginlbl" for="beginlbl"><strong>Start Loc</strong></label>
   <input  style="background: rgba(255,255,255, 0.5); color: black; width: 20px;" type="text" id="initialdistance" class="initialdistance" value="0" placeholder="Start" title="Distance to begin (miles)" maxlength="4" size="2" />&nbsp;&nbsp;&nbsp;&nbsp;
       
     <button id="button" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="saveData()" id="data" for="data">Save Data</button>
     <!--button id="button" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="saveGPS()" id="gps" for="gps">Save GPX</button-->
      
    <button id="button" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="selectVideo();" type="button">Video</button>&nbsp;
    <button id="button" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="selectGPX();" type="button">GPX</button>&nbsp;
        <button id="button" style="background: rgba(0,0,255, 0.5); color: white;"  onclick="connectDevice();" type="button">Connect</button> &nbsp;
    <label id="vplbl" for="vpbeginlbl"><strong>VP</strong></label>
       <input type="checkbox" id="vwCheck" onclick="virtualWatts()">
    
   

       
  <button id="openPicker">Rides</button>
<div id="modal" class="modal">
  <div class="modal-content">
    <h3>Select a ride</h3>

    <select id="gpxSelect">
      <option value="">Select a GPX fileâ€¦</option>
    </select>

    <div class="modal-actions">
      <button id="closePicker">Cancel</button>
    </div>
  </div>
</div>
  
                  
     <button id="openPickerwo">Workouts</button>
<div id="modalwo" class="modalwo">
    
  <div class="modal-contentwo">
    <h3>Select a workout</h3>

    <select id="woSelect">
      <option value="">Select a workout</option>
    </select>

    <div class="modal-actionswo">
      <button id="closePickerwo">Cancel</button>
    </div>
  </div>
</div> 
  
            
  
    
    <!--select id="connectDevice"   style="background: rgba(255,255,255, 0.5); color: black;" >
  <option value="">Connect Device</option>
  <option value="FTMS">FTMS Trainer</option>
  <option value="PWR">Power Meter</option>
  <option value="HRM">HR Monitor</option>
  <option value="RPM">Cadence/Speed</option>
  <option value="RUN">Run Pod</option>
  <option value="Virtual">Virtual Power</option>
    </select-->
&nbsp;


        
    <label id="vgearlbl" for="vgearlbl"><strong>vGear</strong></label>
       <select id="virtualgear"   style="background: rgba(255,255,255, 0.5); color: black;" >
            <option value="-15">-15</option> 
            <option value="-14">-14</option> 
            <option value="-13">-13</option> 
            <option value="-12">-12</option> 
            <option value="-11">-11</option> 
            <option value="-10">-10</option> 
            <option value="-9">-9</option> 
            <option value="-8">-8</option> 
            <option value="-7">-7</option> 
            <option value="-6">-6</option> 
            <option value="-5">-5</option> 
            <option value="-4">-4</option> 
            <option value="-3">-3</option> 
            <option value="-2">-2</option> 
            <option value="-1">-1</option> 
        <option value="0" selected>0</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
        </select>


<label id="synclbl" for="synclbl"><strong>Sync</strong></label>
         <input  style="background: rgba(255,255,255, 0.5); color: black; width: 20px;" type="text" id="secs2add" class="secs2add" value="0" placeholder="secs2add" title="Add secs to video" maxlength="4" size="2" />&nbsp;
 
   </center>
            </div>
  <!--/p-->
 
  
         
  

             
    
    
</body>
</html>